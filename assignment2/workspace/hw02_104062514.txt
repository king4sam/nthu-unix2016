int dup2(int oldfd, int newfd){
    int tmp_fd_arr[max_file_open],index = 0

    checkfdvalid(oldfd)
    checkfdvalid(newfd)

    check_fd_equal(newfd,oldfd)

    //create fd until >= target fd
    while(tmp_fd_arr[index] < newfd){
      tmp_fd_arr[index] = dup(oldfd)
      index++
    }

    // < target fd, close target fd, redup
    if (tmp_fd_arr[index] > newfd){
      close_all_tmp_fd(tmp_fd_arr)
      close(newfd)

      dup(oldfd, newfd)
    }
    // = target fd, hooray
    else if(tmp_fd_arr[index] == newfd){
      close_all_tmp_fd(tmp_fd_arr)
    }
    return newfd

}